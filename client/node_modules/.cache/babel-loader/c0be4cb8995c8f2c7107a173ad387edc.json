{"ast":null,"code":"import _slicedToArray from\"/Users/christian.chau/Project/cloudHybride_stage/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from'react';import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Profile(props){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),profileData=_useState2[0],setProfileData=_useState2[1];function getData(){axios({method:\"GET\",url:\"profile\",headers:{Authorization:\"Bearer \"+props.token}}).then(function(response){var res=response.data;res.access_token&&props.setToken(res.access_token);console.log(\"res\");setProfileData({firstname:res.firstname,lastname:res.lastname,email:res.email,dateofbirth:res.dateofbirth,civility:res.civility,number:res.number,address:res.address,city:res.city,zipcode:res.zipcode,credit:res.credit});}).catch(function(error){if(error.response){console.log(error.response);console.log(error.response.status);console.log(error.response.headers);}});}var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isShownAdd=_useState4[0],setIsShownAdd=_useState4[1];var handleClick=function handleClick(event){setIsShownAdd(function(current){return!current;});};return/*#__PURE__*/_jsxs(\"div\",{className:\"Profile\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:getData,children:\"Information\"}),profileData&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Pr\\xE9nom: \",profileData.firstname]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Nom: \",profileData.lastname]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"E-mail: \",profileData.email]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Date de naissance: \",profileData.dateofbirth]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Civilit\\xE9: \",profileData.civility]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Num\\xE9ro de Telephone: \",profileData.number]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Adresse: \",profileData.address]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Ville: \",profileData.city]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Code Postal: \",profileData.zipcode]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Cr\\xE9dit: \",profileData.credit,\"\\u20AC\"]})]})]});}","map":{"version":3,"names":["useState","axios","Profile","props","profileData","setProfileData","getData","method","url","headers","Authorization","token","then","response","res","data","access_token","setToken","console","log","firstname","lastname","email","dateofbirth","civility","number","address","city","zipcode","credit","catch","error","status","isShownAdd","setIsShownAdd","handleClick","event","current"],"sources":["/Users/christian.chau/Project/cloudHybride_stage/client/src/CleverCloud_components/Profile.js"],"sourcesContent":["import { useState } from 'react'\nimport axios from \"axios\";\n\nexport default function Profile(props) {\n\n  const [profileData, setProfileData] = useState(null)\n  function getData() {\n    axios({\n      method: \"GET\",\n      url:\"profile\",\n      headers: {\n        Authorization: \"Bearer \"  + props.token\n      }\n    })\n    .then((response) => {\n      const res =response.data\n      res.access_token && props.setToken(res.access_token)\n      console.log(\"res\")\n      setProfileData(({\n        firstname: res.firstname,\n        lastname: res.lastname,\n        email: res.email,\n        dateofbirth: res.dateofbirth,\n        civility: res.civility,\n        number: res.number,\n        address: res.address,  \n        city: res.city, \n        zipcode: res.zipcode, \n        credit: res.credit,            \n      }))\n    }).catch((error) => {\n      if (error.response) {\n        console.log(error.response)\n        console.log(error.response.status)\n        console.log(error.response.headers)\n        }\n    })}\n\n\n  const [isShownAdd, setIsShownAdd] = useState(false);\n\n  const handleClick = event => {\n    setIsShownAdd(current => !current);\n  };\n\n  return (\n    <div className=\"Profile\">\n        <button onClick={getData}>Information</button>\n        {profileData && <div>\n              <p>Prénom: {profileData.firstname}</p>\n              <p>Nom: {profileData.lastname}</p>\n              <p>E-mail: {profileData.email}</p>\n              <p>Date de naissance: {profileData.dateofbirth}</p>\n              <p>Civilité: {profileData.civility}</p>\n              <p>Numéro de Telephone: {profileData.number}</p>\n              <p>Adresse: {profileData.address}</p>\n              <p>Ville: {profileData.city}</p>\n              <p>Code Postal: {profileData.zipcode}</p>\n              <p>Crédit: {profileData.credit}€</p>                            \n            </div>\n        }\n    </div>\n  );\n}\n"],"mappings":"6IAAA,OAASA,QAAT,KAAyB,OAAzB,CACA,MAAOC,MAAP,KAAkB,OAAlB,C,wFAEA,cAAe,SAASC,QAAT,CAAiBC,KAAjB,CAAwB,CAErC,cAAsCH,QAAQ,CAAC,IAAD,CAA9C,wCAAOI,WAAP,eAAoBC,cAApB,eACA,QAASC,QAAT,EAAmB,CACjBL,KAAK,CAAC,CACJM,MAAM,CAAE,KADJ,CAEJC,GAAG,CAAC,SAFA,CAGJC,OAAO,CAAE,CACPC,aAAa,CAAE,UAAaP,KAAK,CAACQ,KAD3B,CAHL,CAAD,CAAL,CAOCC,IAPD,CAOM,SAACC,QAAD,CAAc,CAClB,GAAMC,IAAG,CAAED,QAAQ,CAACE,IAApB,CACAD,GAAG,CAACE,YAAJ,EAAoBb,KAAK,CAACc,QAAN,CAAeH,GAAG,CAACE,YAAnB,CAApB,CACAE,OAAO,CAACC,GAAR,CAAY,KAAZ,EACAd,cAAc,CAAE,CACde,SAAS,CAAEN,GAAG,CAACM,SADD,CAEdC,QAAQ,CAAEP,GAAG,CAACO,QAFA,CAGdC,KAAK,CAAER,GAAG,CAACQ,KAHG,CAIdC,WAAW,CAAET,GAAG,CAACS,WAJH,CAKdC,QAAQ,CAAEV,GAAG,CAACU,QALA,CAMdC,MAAM,CAAEX,GAAG,CAACW,MANE,CAOdC,OAAO,CAAEZ,GAAG,CAACY,OAPC,CAQdC,IAAI,CAAEb,GAAG,CAACa,IARI,CASdC,OAAO,CAAEd,GAAG,CAACc,OATC,CAUdC,MAAM,CAAEf,GAAG,CAACe,MAVE,CAAF,CAAd,CAYD,CAvBD,EAuBGC,KAvBH,CAuBS,SAACC,KAAD,CAAW,CAClB,GAAIA,KAAK,CAAClB,QAAV,CAAoB,CAClBK,OAAO,CAACC,GAAR,CAAYY,KAAK,CAAClB,QAAlB,EACAK,OAAO,CAACC,GAAR,CAAYY,KAAK,CAAClB,QAAN,CAAemB,MAA3B,EACAd,OAAO,CAACC,GAAR,CAAYY,KAAK,CAAClB,QAAN,CAAeJ,OAA3B,EACC,CACJ,CA7BD,EA6BG,CAGL,eAAoCT,QAAQ,CAAC,KAAD,CAA5C,yCAAOiC,UAAP,eAAmBC,aAAnB,eAEA,GAAMC,YAAW,CAAG,QAAdA,YAAc,CAAAC,KAAK,CAAI,CAC3BF,aAAa,CAAC,SAAAG,OAAO,QAAI,CAACA,OAAL,EAAR,CAAb,CACD,CAFD,CAIA,mBACE,aAAK,SAAS,CAAC,SAAf,wBACI,eAAQ,OAAO,CAAE/B,OAAjB,yBADJ,CAEKF,WAAW,eAAI,oCACV,mCAAYA,WAAW,CAACgB,SAAxB,GADU,cAEV,6BAAShB,WAAW,CAACiB,QAArB,GAFU,cAGV,gCAAYjB,WAAW,CAACkB,KAAxB,GAHU,cAIV,2CAAuBlB,WAAW,CAACmB,WAAnC,GAJU,cAKV,qCAAcnB,WAAW,CAACoB,QAA1B,GALU,cAMV,gDAAyBpB,WAAW,CAACqB,MAArC,GANU,cAOV,iCAAarB,WAAW,CAACsB,OAAzB,GAPU,cAQV,+BAAWtB,WAAW,CAACuB,IAAvB,GARU,cASV,qCAAiBvB,WAAW,CAACwB,OAA7B,GATU,cAUV,mCAAYxB,WAAW,CAACyB,MAAxB,YAVU,GAFpB,GADF,CAkBD"},"metadata":{},"sourceType":"module"}