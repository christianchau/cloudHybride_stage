{"ast":null,"code":"import _defineProperty from\"/Users/christian.chau/Project/cloudHybride_stage/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/christian.chau/Project/cloudHybride_stage/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/christian.chau/Project/cloudHybride_stage/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from'react';import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Login(props){var _useState=useState({email:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),loginForm=_useState2[0],setloginForm=_useState2[1];function logMeIn(event){axios({method:\"POST\",url:\"token\",data:{email:loginForm.email,password:loginForm.password}}).then(function(response){props.setToken(response.data.access_token);}).catch(function(error){if(error.response){console.log(error.response);console.log(error.response.status);console.log(error.response.headers);}});setloginForm({email:\"\",password:\"\"});event.preventDefault();}function handleChange(event){var _event$target=event.target,value=_event$target.value,name=_event$target.name;setloginForm(function(prevNote){return _objectSpread(_objectSpread({},prevNote),{},_defineProperty({},name,value));});}return/*#__PURE__*/_jsxs(\"div\",{class:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"title\",children:\"Se connecter\"}),/*#__PURE__*/_jsx(\"div\",{class:\"content\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"login\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"user-details\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"input-box\",children:[/*#__PURE__*/_jsx(\"span\",{class:\"details\",children:\"Adresse E-mail\"}),/*#__PURE__*/_jsx(\"input\",{onChange:handleChange,type:\"email\",text:loginForm.email,name:\"email\",placeholder:\"Adresse e-mail\",value:loginForm.email,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"input-box\",children:[/*#__PURE__*/_jsx(\"span\",{class:\"details\",children:\"Mot de passe\"}),/*#__PURE__*/_jsx(\"input\",{onChange:handleChange,type:\"password\",text:loginForm.password,name:\"password\",placeholder:\"Mot de passe\",value:loginForm.password,required:true})]})]}),/*#__PURE__*/_jsx(\"div\",{class:\"button\",children:/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Connexion\",onClick:logMeIn})})]})})]});}/*\nimport React, { useState, useEffect } from 'react';\nimport './style/Login.css';\nimport axios from \"axios\";\n\nimport PropTypes from 'prop-types';\n\nasync function loginUser(credentials) {\n    return fetch('http://localhost:5000/login', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(credentials)\n    })\n      .then(data => data.json())\n   }\n\n\n\nfunction Login( setToken ) {\n    const [email, setEmail] = useState();\n    const [password, setPassword] = useState();\n\n    const handleSubmit = async e => {\n        e.preventDefault();\n        const token = await loginUser({\n          email,\n          password\n        });\n        setToken(token)\n      }\n\n  return(\n\n    <div className=\"login-wrapper\">\n    <h1>Se connecter</h1>\n    <form onSubmit={handleSubmit}>\n      <label>\n        <p>Adresse e-mail</p>\n        <input type=\"text\" onChange={e => setEmail(e.target.value)} placeholder=\"Adresse e-mail\" required />\n      </label>\n      <label>\n        <p>Mot de passe</p>\n        <input type=\"password\" onChange={e => setPassword(e.target.value)} placeholder=\"Mot de passe\" required />\n      </label>\n      <div>\n        <button type=\"submit\">Connexion</button>\n      </div>\n    </form>\n    </div>\n\n  )\n}\n\n\nLogin.propTypes = {\n    setToken: PropTypes.func.isRequired\n  }\n\nexport default Login\n*/","map":{"version":3,"names":["useState","axios","Login","props","email","password","loginForm","setloginForm","logMeIn","event","method","url","data","then","response","setToken","access_token","catch","error","console","log","status","headers","preventDefault","handleChange","target","value","name","prevNote"],"sources":["/Users/christian.chau/Project/cloudHybride_stage/client/src/CleverCloud_components/Login.js"],"sourcesContent":["import { useState } from 'react';\nimport axios from \"axios\";\n\nexport default function Login(props) {\n\n    const [loginForm, setloginForm] = useState({\n      email: \"\",\n      password: \"\"\n    })\n\n    function logMeIn(event) {\n      axios({\n        method: \"POST\",\n        url:\"token\",\n        data:{\n          email: loginForm.email,\n          password: loginForm.password\n         }\n      })\n      .then((response) => {\n        props.setToken(response.data.access_token)\n      }).catch((error) => {\n        if (error.response) {\n          console.log(error.response)\n          console.log(error.response.status)\n          console.log(error.response.headers)\n          }\n      })\n  \n      setloginForm(({\n        email: \"\",\n        password: \"\"}))\n  \n      event.preventDefault()\n    }\n    \n    function handleChange(event) { \n      const {value, name} = event.target\n      setloginForm(prevNote => ({\n          ...prevNote, [name]: value})\n      )}\n      \n    return (\n      <div class=\"container\">\n      <div class=\"title\">Se connecter</div>\n      <div class=\"content\">\n          <form className=\"login\">\n          <div class=\"user-details\">\n          <div class=\"input-box\">\n          <span class=\"details\">Adresse E-mail</span>\n            <input onChange={handleChange} type=\"email\"\n                  text={loginForm.email} \n                  name=\"email\" \n                  placeholder=\"Adresse e-mail\" \n                  value={loginForm.email} required/>\n                            </div>\n            <div class=\"input-box\">\n           <span class=\"details\">Mot de passe</span>\n            <input onChange={handleChange} \n                  type=\"password\"\n                  text={loginForm.password} \n                  name=\"password\" \n                  placeholder=\"Mot de passe\" \n                  value={loginForm.password} required/>\n                    </div>\n                    </div>\n          <div class=\"button\">\n          <input type=\"submit\" value=\"Connexion\" onClick={logMeIn}/>\n          </div>\n        </form>\n        </div>\n      </div>\n      \n    );\n}\n\n/*\nimport React, { useState, useEffect } from 'react';\nimport './style/Login.css';\nimport axios from \"axios\";\n\nimport PropTypes from 'prop-types';\n\nasync function loginUser(credentials) {\n    return fetch('http://localhost:5000/login', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(credentials)\n    })\n      .then(data => data.json())\n   }\n\n\n\nfunction Login( setToken ) {\n    const [email, setEmail] = useState();\n    const [password, setPassword] = useState();\n\n    const handleSubmit = async e => {\n        e.preventDefault();\n        const token = await loginUser({\n          email,\n          password\n        });\n        setToken(token)\n      }\n\n  return(\n\n    <div className=\"login-wrapper\">\n    <h1>Se connecter</h1>\n    <form onSubmit={handleSubmit}>\n      <label>\n        <p>Adresse e-mail</p>\n        <input type=\"text\" onChange={e => setEmail(e.target.value)} placeholder=\"Adresse e-mail\" required />\n      </label>\n      <label>\n        <p>Mot de passe</p>\n        <input type=\"password\" onChange={e => setPassword(e.target.value)} placeholder=\"Mot de passe\" required />\n      </label>\n      <div>\n        <button type=\"submit\">Connexion</button>\n      </div>\n    </form>\n    </div>\n\n  )\n}\n\n\nLogin.propTypes = {\n    setToken: PropTypes.func.isRequired\n  }\n\nexport default Login\n*/"],"mappings":"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"},"metadata":{},"sourceType":"module"}