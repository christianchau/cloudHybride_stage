{"ast":null,"code":"import _slicedToArray from\"/Users/christian.chau/Project/cloudHybride_stage/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import axios from\"axios\";//npm start to start a webpage\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Offres(props){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),offreData=_useState2[0],setOffreData=_useState2[1];function getData(){axios({method:\"GET\",url:\"offre\",headers:{Authorization:\"Bearer \"+props.token}}).then(function(response){var res=response.data;res.access_token&&props.setToken(res.access_token);console.log(\"res\");setOffreData({name:res.name,type:res.type,description:res.description,datedebut:res.datedebut,duree:res.duree,address:res.address,ville:res.ville,prix:res.prix});}).catch(function(error){if(error.response){console.log(error.response);console.log(error.response.status);console.log(error.response.headers);}});}return/*#__PURE__*/_jsxs(\"div\",{className:\"Profile\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:getData,children:\"Offres : \"}),offreData&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Nom de l'offre: \",offreData.name]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Type: \",offreData.type]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Description: \",offreData.description]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Date de d\\xE9but: \",offreData.datedebut]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Dur\\xE9e: \",offreData.duree]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Adresse: \",offreData.address]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Ville: \",offreData.ville]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Cr\\xE9dit: \",offreData.prix,\"\\u20AC\"]})]})]});}/*\ndefault export function Offres() {\n\n\n  const [data, setData] = useState([{}])\n\n  useEffect(() => {\n    fetch(\"/offres\").then(\n      res => res.json()\n    ).then(\n      data => {\n        setData(data)\n        console.log(data)\n      }\n    )\n  }, [])\n\n  return (\n    <div>\n        <h1>Offres:</h1>\n        {(typeof data.concerts === 'undefined') ? (\n          <p>Loading...</p>\n        ) : (\n          data.concerts.map((offre, i) => (\n            <p key={i}>{offre}</p>\n          ))\n        )}\n    </div>\n\n  )\n\n}\n*/","map":{"version":3,"names":["React","useState","axios","Offres","props","offreData","setOffreData","getData","method","url","headers","Authorization","token","then","response","res","data","access_token","setToken","console","log","name","type","description","datedebut","duree","address","ville","prix","catch","error","status"],"sources":["/Users/christian.chau/Project/cloudHybride_stage/client/src/CleverCloud_components/Offre.js"],"sourcesContent":["import React, { useState } from 'react'\nimport axios from \"axios\";\n//npm start to start a webpage\nexport default function Offres(props) {\n\n\n  const [offreData, setOffreData] = useState(null)\n  function getData() {\n    axios({\n      method: \"GET\",\n      url:\"offre\",\n      headers: {\n        Authorization: \"Bearer \"  + props.token\n      }\n    })\n    .then((response) => {\n      const res =response.data\n      res.access_token && props.setToken(res.access_token)\n      console.log(\"res\")\n      setOffreData(({\n        name: res.name,\n        type: res.type,\n        description: res.description,\n        datedebut: res.datedebut,\n        duree: res.duree,\n        address: res.address,  \n        ville: res.ville, \n        prix: res.prix,            \n      }))\n    }).catch((error) => {\n      if (error.response) {\n        console.log(error.response)\n        console.log(error.response.status)\n        console.log(error.response.headers)\n        }\n    })}\n\n  return (\n\n\n    <div className=\"Profile\">\n\n        <button onClick={getData}>Offres : </button>\n        {offreData && <div>\n              <p>Nom de l'offre: {offreData.name}</p>\n              <p>Type: {offreData.type}</p>\n              <p>Description: {offreData.description}</p>\n              <p>Date de début: {offreData.datedebut}</p>\n              <p>Durée: {offreData.duree}</p>\n              <p>Adresse: {offreData.address}</p>\n              <p>Ville: {offreData.ville}</p>\n              <p>Crédit: {offreData.prix}€</p>                            \n            </div>\n        }\n\n    </div>\n  );\n}\n\n\n/*\ndefault export function Offres() {\n\n\n  const [data, setData] = useState([{}])\n\n  useEffect(() => {\n    fetch(\"/offres\").then(\n      res => res.json()\n    ).then(\n      data => {\n        setData(data)\n        console.log(data)\n      }\n    )\n  }, [])\n\n  return (\n    <div>\n        <h1>Offres:</h1>\n        {(typeof data.concerts === 'undefined') ? (\n          <p>Loading...</p>\n        ) : (\n          data.concerts.map((offre, i) => (\n            <p key={i}>{offre}</p>\n          ))\n        )}\n    </div>\n\n  )\n\n}\n*/"],"mappings":"6IAAA,MAAOA,MAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA;wFACA,cAAe,SAASC,OAAT,CAAgBC,KAAhB,CAAuB,CAGpC,cAAkCH,QAAQ,CAAC,IAAD,CAA1C,wCAAOI,SAAP,eAAkBC,YAAlB,eACA,QAASC,QAAT,EAAmB,CACjBL,KAAK,CAAC,CACJM,MAAM,CAAE,KADJ,CAEJC,GAAG,CAAC,OAFA,CAGJC,OAAO,CAAE,CACPC,aAAa,CAAE,UAAaP,KAAK,CAACQ,KAD3B,CAHL,CAAD,CAAL,CAOCC,IAPD,CAOM,SAACC,QAAD,CAAc,CAClB,GAAMC,IAAG,CAAED,QAAQ,CAACE,IAApB,CACAD,GAAG,CAACE,YAAJ,EAAoBb,KAAK,CAACc,QAAN,CAAeH,GAAG,CAACE,YAAnB,CAApB,CACAE,OAAO,CAACC,GAAR,CAAY,KAAZ,EACAd,YAAY,CAAE,CACZe,IAAI,CAAEN,GAAG,CAACM,IADE,CAEZC,IAAI,CAAEP,GAAG,CAACO,IAFE,CAGZC,WAAW,CAAER,GAAG,CAACQ,WAHL,CAIZC,SAAS,CAAET,GAAG,CAACS,SAJH,CAKZC,KAAK,CAAEV,GAAG,CAACU,KALC,CAMZC,OAAO,CAAEX,GAAG,CAACW,OAND,CAOZC,KAAK,CAAEZ,GAAG,CAACY,KAPC,CAQZC,IAAI,CAAEb,GAAG,CAACa,IARE,CAAF,CAAZ,CAUD,CArBD,EAqBGC,KArBH,CAqBS,SAACC,KAAD,CAAW,CAClB,GAAIA,KAAK,CAAChB,QAAV,CAAoB,CAClBK,OAAO,CAACC,GAAR,CAAYU,KAAK,CAAChB,QAAlB,EACAK,OAAO,CAACC,GAAR,CAAYU,KAAK,CAAChB,QAAN,CAAeiB,MAA3B,EACAZ,OAAO,CAACC,GAAR,CAAYU,KAAK,CAAChB,QAAN,CAAeJ,OAA3B,EACC,CACJ,CA3BD,EA2BG,CAEL,mBAGE,aAAK,SAAS,CAAC,SAAf,wBAEI,eAAQ,OAAO,CAAEH,OAAjB,uBAFJ,CAGKF,SAAS,eAAI,oCACR,wCAAoBA,SAAS,CAACgB,IAA9B,GADQ,cAER,8BAAUhB,SAAS,CAACiB,IAApB,GAFQ,cAGR,qCAAiBjB,SAAS,CAACkB,WAA3B,GAHQ,cAIR,0CAAmBlB,SAAS,CAACmB,SAA7B,GAJQ,cAKR,kCAAWnB,SAAS,CAACoB,KAArB,GALQ,cAMR,iCAAapB,SAAS,CAACqB,OAAvB,GANQ,cAOR,+BAAWrB,SAAS,CAACsB,KAArB,GAPQ,cAQR,mCAAYtB,SAAS,CAACuB,IAAtB,YARQ,GAHlB,GAHF,CAoBD,CAGD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module"}