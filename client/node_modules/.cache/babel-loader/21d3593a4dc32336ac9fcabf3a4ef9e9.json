{"ast":null,"code":"var _jsxFileName = \"/Users/christian.chau/Project/cloudHybride_stage/client/src/CleverCloud_components/Offre.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport axios from \"axios\"; //npm start to start a webpage\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Offres(props) {\n  _s();\n\n  const [offreData, setOffreData] = useState(null);\n\n  function getData() {\n    axios({\n      method: \"GET\",\n      url: \"offre\",\n      headers: {\n        Authorization: \"Bearer \" + props.token\n      }\n    }).then(response => {\n      const res = response.data;\n      res.access_token && props.setToken(res.access_token);\n      console.log(\"res\");\n      setOffreData({\n        name: res.name,\n        type: res.type,\n        description: res.description,\n        datedebut: res.datedebut,\n        duree: res.duree,\n        address: res.address,\n        ville: res.ville,\n        prix: res.prix\n      });\n    }).catch(error => {\n      if (error.response) {\n        console.log(error.response);\n        console.log(error.response.status);\n        console.log(error.response.headers);\n      }\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"Profile\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: getData,\n      children: \"Offres : \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Offres:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 13\n      }, this), typeof res === 'undefined' ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 15\n      }, this) : data.concerts.map((offre, i) => /*#__PURE__*/_jsxDEV(\"p\", {\n        children: offre\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n}\n/*\ndefault export function Offres() {\n\n\n  const [data, setData] = useState([{}])\n\n  useEffect(() => {\n    fetch(\"/offres\").then(\n      res => res.json()\n    ).then(\n      data => {\n        setData(data)\n        console.log(data)\n      }\n    )\n  }, [])\n\n  return (\n    <div>\n        <h1>Offres:</h1>\n        {(typeof data.concerts === 'undefined') ? (\n          <p>Loading...</p>\n        ) : (\n          data.concerts.map((offre, i) => (\n            <p key={i}>{offre}</p>\n          ))\n        )}\n    </div>\n\n  )\n\n}\n*/\n\n_s(Offres, \"CI4O47z/ioCl+LVSGsm+z6R95bc=\");\n\n_c = Offres;\n\nvar _c;\n\n$RefreshReg$(_c, \"Offres\");","map":{"version":3,"names":["React","useState","axios","Offres","props","offreData","setOffreData","getData","method","url","headers","Authorization","token","then","response","res","data","access_token","setToken","console","log","name","type","description","datedebut","duree","address","ville","prix","catch","error","status","concerts","map","offre","i"],"sources":["/Users/christian.chau/Project/cloudHybride_stage/client/src/CleverCloud_components/Offre.js"],"sourcesContent":["import React, { useState } from 'react'\nimport axios from \"axios\";\n//npm start to start a webpage\nexport default function Offres(props) {\n\n\n  const [offreData, setOffreData] = useState(null)\n  function getData() {\n    axios({\n      method: \"GET\",\n      url:\"offre\",\n      headers: {\n        Authorization: \"Bearer \"  + props.token\n      }\n    })\n    .then((response) => {\n      const res =response.data\n      res.access_token && props.setToken(res.access_token)\n      console.log(\"res\")\n      setOffreData(({\n        name: res.name,\n        type: res.type,\n        description: res.description,\n        datedebut: res.datedebut,\n        duree: res.duree,\n        address: res.address,  \n        ville: res.ville, \n        prix: res.prix,            \n      }))\n    }).catch((error) => {\n      if (error.response) {\n        console.log(error.response)\n        console.log(error.response.status)\n        console.log(error.response.headers)\n        }\n    })}\n\n  return (\n\n\n    <div className=\"Profile\">\n\n        <button onClick={getData}>Offres : </button>\n            <div>\n            <h1>Offres:</h1>\n            {(typeof res === 'undefined') ? (\n              <p>Loading...</p>\n            ) : (\n              data.concerts.map((offre, i) => (\n                <p key={i}>{offre}</p>\n              ))\n            )}\n        </div>\n        \n\n    </div>\n  );\n}\n\n\n/*\ndefault export function Offres() {\n\n\n  const [data, setData] = useState([{}])\n\n  useEffect(() => {\n    fetch(\"/offres\").then(\n      res => res.json()\n    ).then(\n      data => {\n        setData(data)\n        console.log(data)\n      }\n    )\n  }, [])\n\n  return (\n    <div>\n        <h1>Offres:</h1>\n        {(typeof data.concerts === 'undefined') ? (\n          <p>Loading...</p>\n        ) : (\n          data.concerts.map((offre, i) => (\n            <p key={i}>{offre}</p>\n          ))\n        )}\n    </div>\n\n  )\n\n}\n*/"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CACA;;;AACA,eAAe,SAASC,MAAT,CAAgBC,KAAhB,EAAuB;EAAA;;EAGpC,MAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BL,QAAQ,CAAC,IAAD,CAA1C;;EACA,SAASM,OAAT,GAAmB;IACjBL,KAAK,CAAC;MACJM,MAAM,EAAE,KADJ;MAEJC,GAAG,EAAC,OAFA;MAGJC,OAAO,EAAE;QACPC,aAAa,EAAE,YAAaP,KAAK,CAACQ;MAD3B;IAHL,CAAD,CAAL,CAOCC,IAPD,CAOOC,QAAD,IAAc;MAClB,MAAMC,GAAG,GAAED,QAAQ,CAACE,IAApB;MACAD,GAAG,CAACE,YAAJ,IAAoBb,KAAK,CAACc,QAAN,CAAeH,GAAG,CAACE,YAAnB,CAApB;MACAE,OAAO,CAACC,GAAR,CAAY,KAAZ;MACAd,YAAY,CAAE;QACZe,IAAI,EAAEN,GAAG,CAACM,IADE;QAEZC,IAAI,EAAEP,GAAG,CAACO,IAFE;QAGZC,WAAW,EAAER,GAAG,CAACQ,WAHL;QAIZC,SAAS,EAAET,GAAG,CAACS,SAJH;QAKZC,KAAK,EAAEV,GAAG,CAACU,KALC;QAMZC,OAAO,EAAEX,GAAG,CAACW,OAND;QAOZC,KAAK,EAAEZ,GAAG,CAACY,KAPC;QAQZC,IAAI,EAAEb,GAAG,CAACa;MARE,CAAF,CAAZ;IAUD,CArBD,EAqBGC,KArBH,CAqBUC,KAAD,IAAW;MAClB,IAAIA,KAAK,CAAChB,QAAV,EAAoB;QAClBK,OAAO,CAACC,GAAR,CAAYU,KAAK,CAAChB,QAAlB;QACAK,OAAO,CAACC,GAAR,CAAYU,KAAK,CAAChB,QAAN,CAAeiB,MAA3B;QACAZ,OAAO,CAACC,GAAR,CAAYU,KAAK,CAAChB,QAAN,CAAeJ,OAA3B;MACC;IACJ,CA3BD;EA2BG;;EAEL,oBAGE;IAAK,SAAS,EAAC,SAAf;IAAA,wBAEI;MAAQ,OAAO,EAAEH,OAAjB;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAFJ,eAGQ;MAAA,wBACA;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADA,EAEE,OAAOQ,GAAP,KAAe,WAAhB,gBACC;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADD,GAGCC,IAAI,CAACgB,QAAL,CAAcC,GAAd,CAAkB,CAACC,KAAD,EAAQC,CAAR,kBAChB;QAAA,UAAYD;MAAZ,GAAQC,CAAR;QAAA;QAAA;QAAA;MAAA,QADF,CALF;IAAA;MAAA;MAAA;MAAA;IAAA,QAHR;EAAA;IAAA;IAAA;IAAA;EAAA,QAHF;AAoBD;AAGD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;GAzFwBhC,M;;KAAAA,M"},"metadata":{},"sourceType":"module"}